name: 'Run TypeScript Script'
description: 'Runs a TypeScript script using actions/github-script'
inputs:
  function-name:
    description: 'Name of the function to call'
    default: ""
  bundle-path:
    description: 'Path to the bundle file'
    default: "./.github/ts-actions/out/out.js"
runs:
  using: 'composite'
  steps:
    - name: 'Execute script'
      uses: 'actions/github-script@v6'
      with:
        script: |
          const functionName = core.getInput('function-name', { required: true });
          const bundlePath = core.getInput('bundle-path', { required: true });
          core.info(`Running ${$functionName} from ${$bundlePath}`);
          const scriptModule = require($bundlePath);
          const func = scriptModule[$functionName];
          if (typeof func !== 'function') {
            throw new Error(`Function "${$functionName}" not found in ${bundlePath}.`);
          }
          await func(github, context, core);
